"use strict";(self.webpackChunkmy_3d_portfolio=self.webpackChunkmy_3d_portfolio||[]).push([[267],{5267:(e,n,t)=>{t.r(n),t.d(n,{default:()=>d});var o=t(6540),r=t(4922),i=t(9437),a=t(5880),s=t(2543);const d=()=>{const e=(0,o.useRef)(null),n=(0,o.useRef)(null),t=(0,o.useRef)(null),d=(0,o.useRef)(null),l=(0,o.useRef)(null),[w,u]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{const o=new r.Z58,w=window.innerWidth/window.innerHeight,p=new r.qUd(-2*w,2*w,2,-2,.1,1e3),c=new i.JeP({antialias:!0,preserveDrawingBuffer:!0,alpha:!0});c.setSize(window.innerWidth,window.innerHeight),c.setClearColor(0,0),c.outputEncoding=r.Zr2,c.physicallyCorrectLights=!0,document.getElementById("hero").appendChild(c.domElement),n.current=c,t.current=p,e.current=o,p.position.z=5;const m=new r.KPJ,v=new r.Tap(m),h=v.load("./assets/mattext.webp"),g=v.load("./assets/mattext.webp");h.wrapS=h.wrapT=r.ghU,g.wrapS=g.wrapT=r.ghU;const f=new r.BKk({uniforms:{tMatCap:{type:"t",value:h}},vertexShader:"\n        varying vec3 vNormal;\n        varying vec3 vPosition;\n\n        void main() {\n          vNormal = normalize(normalMatrix * normal);\n          vPosition = position;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        uniform sampler2D tMatCap;\n        varying vec3 vNormal;\n        varying vec3 vPosition;\n\n        void main() {\n          vec3 matCapColor = texture2D(tMatCap, vec2(vNormal.x * 0.5 + 0.5, vNormal.y * 0.5 + 0.5)).rgb;\n          gl_FragColor = vec4(matCapColor, 1.0);\n        }\n      "}),y=new r.BKk({uniforms:{tMatCap:{type:"t",value:g}},vertexShader:f.vertexShader,fragmentShader:f.fragmentShader}),x=new r.Gu$(1.5,32,32),C=new r.Gu$(.5,32,32),z=new r.eaF(x,f),E=new r.eaF(C,y),M=new r.YJl;M.add(z),M.add(E),o.add(M),d.current=z,l.current=E;const S=(0,s.throttle)((e=>{const n=e.clientX/window.innerWidth*2-1,t=e.clientY/window.innerHeight*2-1,o=Math.atan2(t,n),r=1.6*Math.cos(o),i=1.6*Math.sin(o);a.os.to(E.position,{x:r,y:i,z:-1,duration:.5,ease:"power3.out"}),a.os.to(p.position,{x:.1*n,y:.1*t,z:5,duration:.6,ease:"power3.out"})}),60);window.addEventListener("mousemove",S);const L=()=>{const e=window.innerWidth/window.innerHeight;p.left=-2*e,p.right=2*e,p.top=2,p.bottom=-2,p.updateProjectionMatrix(),c.setSize(window.innerWidth,window.innerHeight)};window.addEventListener("resize",L);const P=()=>{c.render(o,p),requestAnimationFrame(P)};return m.onLoad=()=>{console.log("Loading complete!"),u(!1),a.os.fromTo(z.scale,{x:0,y:0,z:0},{x:1,y:1,z:1,duration:1,ease:"power3.out"}),a.os.fromTo(E.scale,{x:0,y:0,z:0},{x:1,y:1,z:1,duration:1,ease:"power3.out"}),P()},()=>{window.removeEventListener("resize",L),window.removeEventListener("mousemove",S),h.dispose(),g.dispose(),x.dispose(),C.dispose(),z.material.dispose(),E.material.dispose(),o.clear(),c.dispose()}}),[]),o.createElement("div",null,w&&o.createElement("div",{className:"loading-screen"},o.createElement("h3",null,"Loading...")))}}}]);
//# sourceMappingURL=267.1f87c9e751ecf473c419.js.map